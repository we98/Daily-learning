1. 发行版的linux的文件系统都必须遵循FHS（Filesystem Hierarchy Standard）标准，即必须存在哪些目录及文件，如我们通过ls /查看一级子目录，里面的大多数目录文件在大多数发行版的linux上都是存在且相同的。下面介绍一些一级子目录的作用：
- /boot：系统启动的相关文件，如内核、initrd以及grub（引导加载器）
- /dev：设备文件，linux下一切外围设备皆是文件，要引用某些设备时，也都到这个目录下来找相关文件，比如cdrom是一个指向光驱文件的软链接文件。**重要的是**，设备文件有两种：①块设备文件，属于随机访问文件、且按照块来存取，如硬盘，想找到某一个文件直接定位即可，而不需要先找到在这个文件之前存储的文件；②字符设备文件：属于线性访问文件，如键盘，必须逐字符按顺序来读取。鼠标、显示器也属于字符设备文件。且当通过ls -l来显示具体信息时，**发现设备文件是没有大小的**，取而代之的是用逗号分隔开的两个数字，分别代表主设备号（major）和次设备号（minor）。
- /etc：配置文件存放的位置，系统或系统服务的大多数配置文件都在这个目录或者这个目录的子目录下。如/etc/passwd文件。因此该目录下基本上都是纯文本文件，这也体现了linux设计的基本哲学思想之一：配置文件都是纯文本格式。/etc/shells文件记录着系统中的shell
- /home：用户的家目录，通常默认为/home/USERNAME目录。
- /root：管理员用户的家目录，UNIX上没有root的家目录，因为一般不需要使用root用户直接登录。因此linux即使有root的家目录，但是千万注意不要使用root来登录。
- /lib：库文件，静态库（.a）和动态库（.so shared object)区别是动态库在内存中只有一份，任何依赖这个库的程序都可以使用它，而静态库是直接运行在程序内部的，不能共享，但易于程序本身的管理。/lib/modules是内核模块文件。
- /media和/mnt：挂载点目录。挂载的意思是将分区与某一目录建立链接，举个例子，文件/dev/cdrom代表光驱的设备访问入口，直接对它进行访问无法访问实际的硬件，要将这个文件与光驱挂载的目录相关联，才能实现对光驱的访问。media一般用于挂载移动设备，如U盘光盘等。mnt一般用于挂载额外的临时文件，如第二块硬盘，只要与当前文件目录没关系，都需要挂载。
- /opt：可选的，早期一般是第三方程序安装目录，但现在已经不用了。
- /proc：伪文件系统，关机后是空的，系统开机时才有东西，是个非常重要的目录，也是一个很难理解的目录，系统调优都与这个目录有关。里面显示的所有文件是内核的映射文件，里面的内容都是关于内核的可调参数以及内核工作时的统计数字，比如想看一下内核的工作属性，比如网卡到底接受了多少个数据包等统计数据都在里面，支不支持ipv4，支不支持路由功能等等。所以想改变内核的工作属性通常是改变这个文件里面的某个文件来完成的。
- /sys：伪文件系统，跟硬件设备相关的映射文件，事实上跟内核也相关，只不过把它独立出来了。通常用于管理硬件设备，尤其像硬盘这样的硬件设备。很多调优也跟这个有关。
- /tmp：临时文件，任何用户在里面都可以创建文件且对任何用户都可见，但是每个人只能删自己的。通过ls -ld查看属性，发现"drwxrwxrwx"，里面的文件会被系统定期自动清理。/var/tmp也是一个临时文件夹。
- /var：可变的文件夹，随着系统的运行，里面的东西越来越多。如/var/cache,/var/run等
- /bin：可执行的二进制目录，用户命令
- /sbin：super，管理员命令（bin和sbin里面放程序，程序运行时依赖的库存放在lib中，每一个程序也都有可能用到配置文件在/etc中）
- /usr：不是user，全称是universal shared read-only，全局共享只读文件。其中有/usr/bin,/usr/sbin,/usr/lib等。/usr/local是存放第三方软件的目录，跟系统关系不大。其中/usr/local/bin,/usr/local/sbin,/usr/local/lib等也都是存放第三方软件相关文件的目录。可以这样理解，/bin和/usr/bin是系统必要的，/usr/local/bin只是第三方软件需要的，即使格式化掉，对系统本身不会造成任何影响。因为linux里面没有注册表的概念，所以安装软件时管理好/usr/local目录是十分必要的。

2. 每个文件都有三类权限，这三类权限分别对应着属主、属组和其他用户，每一类用户都有三种权限，分别是：
- r：可读，可以使用cat等文件查看命令的权限
- w：可写，可以编辑或删除此文件
- x：可执行，可以在命令提示符下当作命令提交给内核运行。
对于目录来说：
- r：可以执行ls以列出所有文件
- w：可以在此目录中创建文件，但是是否可以删除要取决于文件的权限
- x：可以使用cd进入此目录，也可以使用ls -l查看详细信息
所以一般的目录都有执行权限，而其他的文件建议不要默认就带有执行权限，因为可能会遭到攻击。

3. 文件的特殊权限，suid，sgid和sticky
- suid，通过chmod u+/-s bin-file设置，这个权限对于二进制可执行文件才有意义，通过对二进制文件打开这个权限位，任何用户运行这个二进制文件产生的进程的用户id为这个二进制文件的属组，比如，如果给/bin/cat二进制文件打开这个权限，则通过用户A启动一个cat进程时，该cat进程的用户id不是用户A，而是root，因此打开的进程可以对某些文件具有更大的访问权限。这也就解释了一个问题：当普通用户使用passwd命令设置密码时，其实是修改了/etc/shadow文件，但是该文件对other用户没有开启任何权限，但为什么能够写入成功？原因是因为/usr/bin/passwd文件打开了suid权限位，任何用户使用passwd开启的passwd进程都以root的身份在运行，而不是用户本身。
- sgid，通过chmod g+/-s bin-file/directory设置，这个权限对于二进制可执行文件或目录文件才有意义。**对于二进制文件**，其意义和suid类似，即打开这个位后，启动的线程的用户组id不是启动进程的用户本身，而是该二进制文件的属组。**对于目录文件**，任何人在该目录下创建的文件的属组与目录本身的属组相同，比较常用的需求是，对于一个开发团队有着不同的用户，如hadoop，hbase和hive等，在相同的目录下/tmp/project进行协同开发，及用户可以查看和编辑修改其他用户的文件，应当如何实现？此时给/tmp/project文件夹sgid权限即可，这样就可以保证不同用户之间可以写文件。
- sticky，通过chmod o+/-t DIR实现，可以在sgid的基础上，不能删除，比如具有sgid的文件夹下，不同用户可以编辑、修改、删除其他用户的文件，增加了这个位之后便不能随意删除。
- 因此，这三个位仍然可以组成一个新的八进制位，如chmod 1755 file等，000最高为代表suid等等。

3. 创建文件时使用的掩码，umask，在管理员和普通用户的登录条件下输入umask即可查看掩码，注意，创建文件时，普通文件的权限是666-umask（linux下普通文件默认没有执行权限），目录文件的权限是777-umak。而管理员的umask默认是0022，普通用户的umask是0002。因此，普通用户创建普通文件默认为664，目录文件为775，而管理员创建普通文件默认是644，目录文件为755。通过umask + mode可以修改当前用户的umask，如果创建普通文件时算的结果666-umask使得文件具有执行权限，则系统会默认加1,总之，创建的普通文件不会直接具有执行权限。

4. /dev/null，软件模拟出的设备设备文件，bit bucket，可以认为是一个黑洞，经常使用的方式是将命令的输出重定向到这个文件中，吃人不吐骨头。

5. FACL：Filesystem Access Control List，文件系统访问控制列表，实质是利用文件扩展属性保存额外的访问控制权限，例如，如果想要给某个文件让jerry设置权限，并不一定通过设置other用户的权限来设定，也可以使用FACL相关命令来完成，常用的命令有：
- setfacl
  - -m选项代表设定额外的访问控制列表
    - u:UID:perm设定某个用户为某权限，用法为setfacl -m u:hadoop:rw file，代表给hadoop用户读写这个文件的能力
    - g:GID:perm设定某个组为某权限
  - -x选项代表取消某个访问控制列表
- getfacl，用法为getfacl file可以直接打印文件的访问控制权限列表


