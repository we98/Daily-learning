目录管理：ls cd pwd mkdir rmdir tree
文件管理：touch stat file rm cp mv install nano
日期时间：date clock hwclock cal
查看文本（不要尝试打开二进制文件）：cat more less head tail
查看处理后的文本：cut join sed awk sort uniq
文本统计：wc（word count）
用户管理：adduser/useradd  userdel id finger usermod chfn
用户组管理：groupadd groupmod groupdel
密码管理：passwd
文件权限管理：chown（管理员命令） chgrp（管理员命令） chmod
文本查找：grep（根据正则搜索，并将符合模式的问本行打印） egrep fgrep sed（流编辑器stream editor，行编辑器） awk
文件查找：locate，

1. linux基本的命令格式为：命令 选项 参数
- 命令。一定是可以找到路径的可执行文件，另外，这个可执行文件具有魔数（magic number），用于标识是否属于有入口的可以运行的可执行文件、标识程序的执行格式。
- 选项。分为短选项和长选项，对于ls命令来说短选项有 -a, -l等，注意短选项以一个短线开始，后跟单个字符，且短选项可以合起来写，如-la， -al（顺序无关）。长选项以两个短线开始，后跟一个单词，不能合起来写。注意一个命令中，选项的数量是不做规定的，但是多个选项之间一定要用空格隔开。并且有些选项是可以带参数的，这个不同于命令本身的参数。
- 参数。取决于命令本身对应的可执行文件的参数多少，指定命令对什么生效。
[]代表可选
<>代表必选
...代表可以出现多次
|代表多选1
{}分组，比如将多选1的几个扩起来，没有特殊意义

2. ls命令，list，参数为空时默认列出当前目录下的所有文件。-l选项可以详细打印出文件的信息，如"drwxr-xr-x 2 root root 4096 5月  16 14:01 公共的"。
- 针对"drwxr-xr-x"共有十个字符，第一个字符标识着文件的类型：①- 代表普通文件②d 代表目录文件③b 代表块设备文件（block）④c 代表字符设备文件⑤l 符号链接/软链接文件（symboli link file）⑥p 管道文件⑦s 套接字文件。后9个字符代表文件的权限mode，每三位一组，每一组rwx（读写执行），如果没有相应的权限，则使用-。
- 针对"2"，是指文件被硬链接的次数
- 针对"root"，是指文件的所有者（owner）
- 针对"root"，是指文件的属组（group）
- 针对"4096"，文件大小（size），默认单位是字节
- 针对"4096 5月  16 14:01"，时间戳（timestamp），默认显示最后被修改的时间。文件有三个时间戳，最后一个被访问的时间（access）、最后一次被修改的时间（modify）以及最后一次被改变的时间（change），针对修改时间和改变时间，改变时间是记录文件的属性数据（也成为metadata元数据）最后被修改的时间，而修改改变的是文件的内容。如不修改文件本身而修改文件名属于改变而不属于修改。
- 针对"公共的"，文件名。
-h选项，可以将第四个参数的单位byte修改为k
-a（all）选项，显示以.开头的隐藏文件，当使用这个选项时，会显示出所有以.开头的文件，其中有两个文件比较特殊.和..，第一个表示当前目录，而第二个表示当前目录的上一层目录，都属于目录文件。
-A， 显示所有文件，不包括.和..
-d，显示目录自身属性
-i，显示当前目录下所有文件的inode节点id
-R， 递归显示所有目录，深度遍历

3. pwd命令，print working directory，打印当前目录。

4. cd命令，change direcotry，切换工作目录。不加参数，回到用户的家目录，对自己的家目录，用户有所有的操作权限。cd ~ 波浪线代表回到家目录。
cd ~username 可以进别人的家，当然只有管理员才能进别人的家，普通用户没法进别人的家。
cd -用户在前一个目录和当前目录来回切换，也比较常用

5. type命令，用于显示某种命令属于哪种类型，linux下有两种命令类型，内置命令（shell内置）和外部命令（一定在某个目录下对应一个可执行文件的命令，当使用type后打印出其目录即说明是外部，此时使用which + 命令也可以显示出其可执行文件的命令）。

6. 环境变量，可以认为是当前用户定义环境的一些变量，使用printenv可以打印所有的环境变量。打印之后，注意PATH变量，用冒号隔开的路径表示一个命令可执行文件的查找路径，查到之后，直接不查下面的路径了。

7. 命令以及程序的缓存，hash命令，当第一次使用某种命令时，其命令的可执行文件的路径会被缓存到内存中，以方便下次调用就不用再次花费时间查找和加载，调用此命令后，会将命令的名称和命中次数打印出来。

8. date命令，用于时间管理。与windows不同的是，linux有两种时间，硬件时间和系统时间，硬件时间一直存在，及时是关机之后，振荡器也在依靠主板上电池的电量不断计时，当系统开启之后，会读取硬件时间作为系统当前时间，之后内核便不再读取硬件时间，而是通过软件的方式产生系统时间。
二者可能会有差异，一般硬件时间很准确，系统时间可能因为CPU过于繁忙而导致不准确。使用date命令看到的是系统时间，想看硬件时间则要通过clock命令或hwclock。

9. help 、man、info、/usr/share/doc等四种查看帮助命令，对于内部命令，可以使用help COMMAND方式查看其使用方式，对于外部命令，可以使用COMMAND --help 或 man COMMAND来查看帮助，内部命令使用man时会直接出现bash的使用方法，而不是命令本身。
对于man命令，查看手册，常见的手册有8张，ls(1)即代表是第一章
但如果该命令在手册中对应多个，应该找哪一页的呢，可以使用whatis命令，如whatis ls
- 第一章属于用户命令， 所有用户都可以使用的命令（常位于/bin:/usr/bin:/usr/local/bin）
- 第二章属于系统调用的一些函数的用法，如man 2 read，不加2的话会从第一章往后找
- 第三章属于库调用
- 第四章属于解释特殊文件的章节，如设备文件（不存储任何东西，只是作为设备访问的入口）
- 第五张属于文件格式，即解释某一个命令的配置文件的语法的，如man 5 passwd
- 第六章属于对游戏的说明
- 第七章属于杂项，不便于归类的命令
- 第八章属于管理命令，也就是管理员才有权使用的命令，会被经常用到（常位于/sbin:/usr/sbin:/usr/local/sbin）
除了man用户手册，使用info COMMAND可以获得该命令的在线介绍文档，不常用
/usr/share/doc文件夹里记录了大多数命令使用的相关手册和文档，如gedit目录里面记录了gedit每次更新迭代的信息，这些都是补充性的内容，不是十分重要，了解有这些文档即可。以后读内核相关文档才是最重要的。

10. su命令，switch user，命令格式为：su [-l] username. su username 代表不完全切换，su -l username代表完全切换。

11. passwd命令，修改当前用户的密码，注意普通用户修改的新密码需要满足密码复杂度要求，而使用root用户修改密码是，随意修改即可，没有要求，在root用户下直接使用passwd username来修改任何用户的密码。

12. mount挂载，管理员命令，挂载即将一分区与文件结构下的某一目录相关联。先通过fdisk -l查看要挂载的分区名，然后将这个分区名与/mnt或/media下的某一个目录关联即可。如在mnt下建立目录usb，则挂载命令为mount /dev/sdb1 /mnt/usb即可，取消挂载的命令为umount /mnt/usb。

13. mkdir命令，创建空目录，如果给出的是一个路径，则只能允许最后一个节点目录不存在，不允许中间不存在的情况，这种情况下使用-p选项即可。**shell编程知识花括号展开**，比如需要在/mnt/test里创建x/m和y，应该这样写 mkdir /mnt/test/{x/m, y}，再比如要创建a_c，a_d，b_c，b_d这四个文件，则应该这样写mkdir {a, b}_{c, d}。相对应的rmdir命令只能用于删除空目录。

14. tree命令，查看文件树，参数是一个目录文件。

15. 几种关于普通文件的操作命令：
- touch命令。经常用于歪打正着的用于创建新文件，touch+文件名，当文件不存在时新建文件。然而其作用是修改时间戳，默认3个时间戳都被修改，当然也可以指定哪一个，也可以使用选项禁止创建新文件。
- nano命令。nano + 文件名可以实现创建并写入文件，相比于vim功能十分弱小。
- rm命令。后跟文件名即可删除。当处于root用户时，rm是rm -i的别名，因此会出现交互式的问是否要删除，点击y即可。如果在root用户下不想让这个提示信息出现，使用\rm即可。其实\加在命令前的意思就是不使用某个带有选项的别名，而使用原生的命令。其实\ls出现的东西不带有各种颜色。**比较常用的是**，rm可以删除目录，-d表示删除空目录，-r表示递归删除目录里所有文件，因此-rf通常配合使用，意思是删除文件下所有文件，但是不需要提醒用户。
- cp命令，copy。可以实现两种方式：①一个文件到另一个文件；②多个文件到一个目录。注意不能一对多或多对多，因为只有最后一个参数代表DEST。当复制目录时，要带上-r参数实现递归复制。常用选项有-r -i（交互式） -f（强行覆盖而不需要交互） -p（复制时保留原来文件的mode，属主，时间戳等信息） -l（默认选项，针对软链接文件的命令，默认情况下复制的是软链接指向的文件，使用-P这个选项则复制软链接本身，得到的结果是一个软链接文件） -a（保存文件原有的所有信息，常用于备份，表示归档复制，很关键）。
- mv命令，move。跟copy用法基本上一致，不过移动目录时不需要使用-r选项即可递归移动。一种常见用法是mv a b即将a重命名为b。
- install命令，不是下载文件，而是复制文件，与cp命令基本一致。但是不能copy目录，只能copy文件，因为并没有提供-r选项。

16. 几个关于查看普通文本（而不是二进制文件）的操作命令：
- cat命令，连接并显示，将所有参数的文件按顺序连接并显示出来。-n选项可以给输出加行号。tac命令，将最后一行显示到第一行。
- more和less命令，分屏显示文件。more向后翻，选项多无太大用。less命令比较常用，man命令就是通过less实现的，支持向前和向后翻，支持/和？查找特定单词，且less翻到最后不会退出，只有敲q命令才会退出。
- head和tail命令，查看文件的前n行和后n行，n默认是10。如head -n 1 test.txt只显示一行。tail -f命令显示完之后不会退出，会继续监控这个文件的变化（其他进程的修改），如果有变化，会继续输出，**这个功能对监视日志文件非常有用**。
- cut命令，对于类似数据库存储方式的文件比较有用，比如/etc/passwd文件，每行都是以:分开的7个字段，因此使用cut命令分别查看某个字段非常合适，命令为 cut -d : -f 1 /etc/passwd使用-d说明分隔符，默认是空格，使用-f说明要打印第几个字段，且-f 1,3  -f 1-3。
- join命令，用于连接文件，用的不多。
- sort命令，默认将文件按行的首字符的ASCII码表升序打印，当然也可以像cut一样指定以某个字段为标准进行排序。常用的选项有：-n（按数字数值排列） -r（降序排列） -t（指定字段分隔符） -k（指定以哪个字段） -u（相同的行只出现一次）。
- uniq命令，会略过重复行，但是只有相邻的重复行才被认为是重复行。因此可以将sort和uniq结合起来使用，结合的方法具体通过管道来实现，见下文。-d选项，也可只打印重复的行。-c选项，显示某一行重复的次数。

17. wc命令，会显示文件的行、单词数、字节数（也可认为字符数）。

18. tr命令，用于转换字符命令，如tr "ab" "AB" 会将标准输入的字符串做相应的替换(a都换成A，b都换成B，而不是按ab来找)打印到标准输出，但没有提供文件的选项，如果想替换文件的话，应该使用文件重定向：tr ab AB < input.txt > output.txt，而且可以使用tr a-z A-Z来将小写换成大写。

19. history可以查看历史命令，-c选项可以清空。事实上，用户输入的命令在用户正常退出后会保存到家目录中的.bash_history文件中，因此即使关机下次也能看得到history。shell未结束时，命令会存在缓存区中，使用-w命令可以将缓冲区写入这个文件中。环境变量中的HISTSIZE表示这个文件最多存多少个。
- 历史命令的使用技巧。!n：执行第n条  !-n执行倒数第n条 !!执行上一条

20. 使用adduser或useradd进行添加用户，首先adduser USERNAME便在/etc/passwd和/etc/shadow中添加了一条记录，但是/etc/shadow中加密密码对应字段为*，此时在root模式下使用passwd USERNAME添加密码即可。事实上，以最简单的方式创建用户时，只修改了/etc/passwd /etc/shadow /etc/group等文件。但是新建用户时，有很多默认选项已经填上了，如默认的shell为bash，这些默认的模板在/etc/default/useradd中。通过groupadd GROUPNAME添加组，使用tail -1 /etc/group即可查看新加的一行。
- adduser [options] USERNAME如果不指定options将使用/etc/default/adduser中的模板。-u 指定uid注意不能使用已存在的id，而且应在普通用户的id范围内创建（>=500)。-g指定基本组（默认组，但不同于私有组），这个基本组一定存在，使用组id或组名均可。 -G GROUP,...可以有多个，用逗号隔开。 -c 指定用户信息，有空格则用双引号。 -d手动指定家目录，跟一路径，不加的话默认在/home的同名目录下。 -s指定shell，这个shell一定是/etc/shells文件中出现的shell，这样才是安全的。-r默认添加系统用户，注意系统用户没有家目录，即使有指定路径，也不会创建。
- userdel [options] USERNAME如果不指定options将不会删除用户家目录。-r可以删除家目录。
- id [options]... [USERNAME]查看用户信息。
- finger USERNAME查看用户账号信息。
- usermod（user modified），跟useradd使用基本一致，想改哪些信息使用哪些选项即可。注意-G修改附加组时会将之前的附加组给删掉然后重新添加，如果想直接添加，要与-a配合使用。注意-d指定家目录时会创建新的家目录，那么原来家目录的文件将不能访问，所以应与-m配合使用，将之前的文件移动过去。-l可以修改用户名。-L锁定账号，-U解锁账号。
- chfn USERNAME修改用户的finger信息，就是姓名、电话之类的信息。

21. 用户组管理，groupadd 通过指定 -r默认添加系统用户组。groupmod可以修改用户组信息。groupdel删除组。gpasswd用于给用户组加密码，一种典型的使用方式是，用户可以临时newgrp切换组，这个时候需要密码。

22. chown命令，改变文件的属主，使用方式为chown [USERNAME][:[GROUP]] file1,...。当file是目录文件时，只修改目录本身，使用-R选项可以将文件夹中所有文件的属组。当USERNAME只跟一个冒号时，则将文件的属组改为登录USERNAME的数组。当跟了GROUP时，则会按照指定的GROUP来，如果只有冒号和GROUP，则和chgrp命令功能一致，即修改文件的属组。另外 如果不是用USERNAME时，可以使用 --reference =file1，则新文件的USERNAME和GROUP和参考文件一样。使用chown包括，USERNAME:GROUP， USERNAME:， :GROUP等用法。使用--reference属组和属主都改了

23. chgrp命令，修改属组，chgrp GROUP file,...，另外也有-R，--reference=file.

24. chmod，修改文件的访问权限，可以修改三类用户的权限，也可以修改某一类用户的权限，也可以修改某一类用户的某一个权限。
- 修改三类用户的权限：chmod MODE file1,...这里MODE是一个八进制数，如775 664等，也有-R选项，也支持--reference，如果位数不够，如75 5那么只会变成075 005等。
- 修改某一类用户的权限：三种用户分别是u,g,o，也可以用a表示all，格式为chmod u=MODE file1,...，这里的MODE只能使用rwx，r-x之类的，不能使用具体数字。如果想要同时改两类，则使用u=r,o=rx，如果两个相同，则uo=r即可，如果三类都改相同，则a=r即可。如果想要改成啥权限都没有直接o=即可。
- 修改某一类用户的某些权限，直接使用+-即可。如chmod u-x file，chmod u+x,g-x file，chmod u+rw file

25. 几个关于文本搜索的命令
- grep命令，查找某个文本中符合查找模式的行。一般用法为grep [options] pattern file1...。-i选项，代表忽略大小写；--color[=COLOR]可以按照颜色将匹配到的显示出来；-v显示没有被匹配出来的行；-o只显示被模式匹配出来的串，而不是显示出来被匹配出来的行；当PATTERN表示正则表达式时（注意，部分字符可能需要转义，如{}代表命令行展开），.表示任意单个字符，*代表次数，0或任意次，?代表0或1次，\{m,n\}表示匹配至少m次，至多n次，^表示后面的字符串必须出现在行首，$代表前面的字符串必须出现在行尾，^$代表空白行(grep '^$' /etc/passwd | wc - l 统计空白行)，[],[^],[:digit:]等也代表在某个字符集中出现（grep '[[:space:]][[:digit:]]$‘ file），\<（或\b）代表后面出现的字符串必须在单词的首部，\>（或\b）代表其前面出现的字符串必须出现在单词的尾部（常用法有^ab\>匹配以ab单词开始的行，\<ab$代表以ab单词结尾的行，\<root\>代表出现root单词的行），\(\)代表括号分组，主要作用是引用，\1，\2，\3代表引用相应括号里的内容（如he love his lover,he loves his liker, he like his liker, he like his lover选出前后对应即可这样grep '\(l..e\).*\1'）
- egrep支持扩展的正则表达式
- fgrep为了效率不支持正则表达式，字符串中的所有东西直接被解释为字符。

26. sed命令，按行读取，将每一行读取到内存中，然后按照相关模式和命令对这一行进行处理，处理之后打印到屏幕上。注意sed默认不处理源文件，仅对模式内存空间中的文本进行处理。sed 'AddressCommand' file...。Address：startline,endline

27. 文件查找命令，locate和find
- locate命令，locate filename，非实时，模糊匹配，根据全系统文件数据库进行的，因为这个数据库会在一天的某个时间自动修改，所以有可能出现删除过的文件出现，新增的文件不出现等情况。而且，这种查找属于模糊匹配，有可能在路径中含有相应字符串也会查找出来。**注意**，因为是根据数据库进行查找，所以新安装的系统可能无法工作，此时，通过updatedb命令可以手动更新数据库，但可能要耗费一定的时间。另外，因为是基于数据库系统，所以locate速度很快，效率很高，其他基本上就没什么优势了，用的不多。
- find命令，find [查找路径] [查找标准] [处理动作]，相比locate来说，实时，精确，但是工作原理是遍历某一目录，所以效率低，速度慢。但是功能比较强大。查找路径默认为当前路径， 查找标准默认为指定路径下的所有文件，处理动作默认为显示。
  - 下面是查找标准
    - -name "filename"表示对当前目录及其子目录的文件进行精确查找，当然也可以使用glob通配，-iname不区分大小写；
    - -user USERNAME, -group GROUP, -uid UID, -gid GID可以用来查找文件。特殊的，-nouser用来没有属主的文件，发现这样的文件之后应给其设置属主为root，防止其他用户随便使用该文件；
    - -type根据文件类型来查找（f，d，s等）；
    - -size [+|-]#[k|M|G]，加减号代表大于或小于，#用数字替换，如果没有指定单位，则默认为字节，且如果写10M时，9M多也会被匹配；
    - -atime，-mtime，-ctime，使用时间戳来查找，如-atime 5代表5天前访问过，-5代表5天内访问过，+5代表上次访问时间超过5天，-amin，-mmin，-cmin单位则是分钟，
    - -perm MODE使用文件访问权限来查找，MODE的不同取值代表不同意义，644代表完全匹配，/644代表存在匹配的位就行（任意一位就行），-644代表包含关系，查找到的文件必须具有这几个权限，如find ./ -perm -001代表查找其他用户具有执行权限的文件，
    - 组合条件，-a表示与，-o表示或，-not表示非，没有组合条件的话默认为-a，如find /tmp -not \(-user user1 -o -user user2\)，记住要加转义字符，当然也可以不用括号，但是要注意语义正确；
  - 下面是处理动作：
    - -print，显示
    - -ls，类似以ls -l的形式显示每一个文件的详细信息
    - -[ok|exec] COMMAND {} \;  一定要以\;作为结束标识，花括号是文件名称占位符，当需要使用到这个文件时，可以写上{}，如find ./ -perm -006 -exec chmod o-x {} \;  目的是找到相关文件并去掉其他用户的执行权限，find ./ -perm -006 -exec mv {} {}.new \; 作用是重命名；-ok是指所有的文件都需要用户确认，而-exec不需要确认；












